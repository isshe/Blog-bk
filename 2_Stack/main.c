/*=========================================================================\
* Copyright(C)2016 Chudai.
*
* File name    : main.c
* Version      : v1.0.0
* Author       : 初代
* Date         : 2016/06/17
* Description  :
* Function list: 1.
*                2.
*                3.
* History      :
\*=========================================================================*/

/*-----------------------------------------------------------*
 * 头文件                                                    *
 *-----------------------------------------------------------*/
#include <stdio.h>
#include <stdlib.h>
#include "stack.h"

/*-----------------------------------------------------------*
 * 外部变量说明                                              *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 外部函数原型说明                                          *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 内部函数原型说明                                          *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 全局变量                                                  *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 模块级变量                                                *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 常量定义                                                  *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 宏定义                                                    *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 函数实现                                                  *
 *-----------------------------------------------------------*/
int main(void)
{
     stack_s    *stack = NULL;
     int        size = 0;
     int        option = 0;
     int        value = 0;

     printf("输入栈大小: ");
     scanf("%d", &size);

     //新建一个空栈
     if (create_stack(&stack, size) == -1)
     {
         printf("新建栈失败!\n");
         exit(-1);
     }

     while(1)
     {
         printf("\n\r1.入栈\n\r2.出栈\n\r3.清空栈\n\r4.输出栈元素(!)\n\r5.退出\n");
         scanf("%d", &option);

         switch(option)
         {
             case 1:
                 printf("输入元素值：");
                 scanf("%d", &value);
                 if (push_stack(stack, value, size) != 0)
                 {
                     printf("无法入栈，可能栈满!\n");
                 }
                 break;
             case 2:
                 if (pop_stack(stack) != 0)
                 {
                      printf("无法出栈，可能栈空!\n");
                 }
                 break;
             case 3:
                 clear_stack(stack);
                 break;
             case 4:
                 output_stack(stack);
                 break;
             case 5:
                 exit(0);
                 break;
             default:
                 break;
         }

     }
}
