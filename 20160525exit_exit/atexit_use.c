/*=========================================================================\
* Copyright(C)2016 Chudai.
*
* File name    : atexit_use.c
* Version      : v1.0.0
* Author       : 初代
* Date         : 2016/05/25
* Description  :
* Function list: 1.
*                2.
*                3.
* History      :
\*=========================================================================*/

/*-----------------------------------------------------------*
 * 头文件                                                    *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 外部变量说明                                              *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 外部函数原型说明                                          *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 内部函数原型说明                                          *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 全局变量                                                  *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 模块级变量                                                *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 常量定义                                                  *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 宏定义                                                    *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 函数实现                                                  *
 *-----------------------------------------------------------*/

#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>

static void my_exit1(void);
static void my_exit2(void);
static void my_exit3(void);

int main(void)
{
     if (atexit(my_exit2) != 0)
     {
         printf("注册my_exit2失败!\n");
     }

     if (atexit(my_exit1) != 0)
     {
          printf("注册my_exit1失败!\n");
     }

     if (atexit(my_exit3) != 0)
     {
          printf("注册my_exit3失败!\n");
     }

     printf("main is done!\n");

     exit(0);
  //  return 0;
}

static void my_exit1(void)
{
     printf("I am my_exit1()!\n");
}

static void my_exit2(void)
{
     printf("I am my_exit2()!\n");
}

static void my_exit3(void)
{
     printf("I am my_exit3()!\n");
}
