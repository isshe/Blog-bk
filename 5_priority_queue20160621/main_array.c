/*=========================================================================\
* Copyright(C)2016 Chudai.
*
* File name    : main_array.c
* Version      : v1.0.0
* Author       : 初代
* Date         : 2016/06/22
* Description  :
* Function list: 1.
*                2.
*                3.
* History      :
\*=========================================================================*/

/*-----------------------------------------------------------*
 * 头文件                                                    *
 *-----------------------------------------------------------*/
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include "pqarray.h"

/*-----------------------------------------------------------*
 * 外部变量说明                                              *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 外部函数原型说明                                          *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 内部函数原型说明                                          *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 全局变量                                                  *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 模块级变量                                                *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 常量定义                                                  *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 宏定义                                                    *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 函数实现                                                  *
 *-----------------------------------------------------------*/

void main(void)
{
     int        capacity = 0;
     int        value = 0;
     ppqueue_s  queue = NULL;
     int        option = 0;
     int        i = 0;

     printf("输入队列长度: ");
     scanf("%d", &capacity);
     queue = create_queue(capacity);
//     printf("test queue->size = %d\n", queue->size);

     //这里初始化为-1了,不知道初始化为什么值比较好.
//     memset(queue->array, -1, sizeof(int)*capacity);
     for (i = 0; i < capacity; i++)
     {
         queue->array[i] = INITVALUE;
     }
     queue->size = 0;           //队列应该从1开始,这样对删除有好处
     queue->capacity = capacity;

     while(1)
     {
         printf("\r1.插入数据\n"
                 "\r2.删除最小数据\n"
                 "\r3.输出队列\n"
                 "\r4.退出\n");
         scanf("%d", &option);

         switch(option)
         {
             case 1:
                 printf("输入要插入数据:\n");
                 scanf("%d", &value);
                 insert_data(queue, value);
                 break;
             case 2:
                 delete_min(queue);
                 break;
             case 3:
                 output_queue(queue);
                 break;
             case 4:
                 exit(0);
                 break;
             default:
                 break;
         }
     }
}
