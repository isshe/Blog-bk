/*=========================================================================\
* Copyright(C)2016 Chudai.
*
* File name    : insertion_sort.c
* Version      : v1.0.0
* Author       : 初代
* Date         : 2016/06/24
* Description  :
* Function list: 1.
*                2.
*                3.
* History      :
\*=========================================================================*/

/*-----------------------------------------------------------*
 * 头文件                                                    *
 *-----------------------------------------------------------*/
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include "operation.h"
/*-----------------------------------------------------------*
 * 外部变量说明                                              *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 外部函数原型说明                                          *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 内部函数原型说明                                          *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 全局变量                                                  *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 模块级变量                                                *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 常量定义                                                  *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 宏定义                                                    *
 *-----------------------------------------------------------*/

/*-----------------------------------------------------------*
 * 函数实现                                                  *
 *-----------------------------------------------------------*/

void insertion_sort(poperation data)
{
     int i = 0;
     int j = 0;
     int num = data->num;
     int *array = NULL;
     int position = 0;

     if ((array = (int *)malloc(sizeof(int) * num)) == NULL)
     {
          printf("insertrion array malloc error!\n");
          return;
     }

//     memset(array, 0, sizeof(int) *num);
     for (i = 0; i < num; i++)
     {
          position = i;
          for(j = i-1; j >= 0; j--)
          {
              if (data->array[i] < array[j])
              {
                   position = j;
                   array[j+1] = array[j];
              }
          }
          array[position] = data->array[i];
     }

     output_array(array, num);
     free(array);

}
